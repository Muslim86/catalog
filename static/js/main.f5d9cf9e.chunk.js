(this["webpackJsonpmuslim-temirkhanov-web"]=this["webpackJsonpmuslim-temirkhanov-web"]||[]).push([[0],{147:function(e,t,n){e.exports={component:"ViewModelsPanel_component__3c1BD",active:"ViewModelsPanel_active__1uEHH"}},148:function(e,t,n){e.exports={component:"App_component__2CKbw",content:"App_content__2kCVU"}},213:function(e,t,n){e.exports={component:"SearchLine_component__3PyAa"}},214:function(e,t,n){e.exports={component:"Error_component__2PupV"}},215:function(e,t,n){e.exports={loader:"Loading_loader__33PuR",load2:"Loading_load2__LOPvx"}},216:function(e,t,n){e.exports={component:"TableView_component__3Mx2X"}},217:function(e,t,n){e.exports={component:"ListView_component__PhMI2"}},218:function(e,t,n){e.exports={component:"CatalogItem_component__KUmLS"}},219:function(e,t,n){},455:function(e,t,n){},456:function(e,t,n){"use strict";n.r(t);n(220);var c=n(1),s=n.n(c),i=n(114),o=n.n(i),r=n(61),a=n(6),u=n(23),j=n(56),l=n(68),b=n.n(l),h=n(69),d=n.n(h),m=n(209),O=n(210),f=n(211),p=n(146),x=n.n(p),g=n(19),v=n(212),_=n.n(v),C={getCategories:function(){return _.a.get("".concat("https://www.themealdb.com/api/json/v1/1","/categories.php")).then((function(e){return e.data}))},sortCategories:function(e){return b.a.sortBy(e,[function(e){return e.strCategory}])},sortHeaders:function(e,t,n){return b.a.sortBy(e,[t[n+1]])}},y=function(){function e(){Object(O.a)(this,e),this.categories=void 0,this.isVisible=!0,this.isFetching=!1,this.fetchError=!1,this.searchQuery=void 0,this.isFiltered=!1,this.isSorted=!1,this.countVisibleItems=3,this.isMaxCountVisibleItems=!1,Object(g.d)(this)}return Object(f.a)(e,[{key:"fetch",value:function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isFetching=!0,e.next=4,C.getCategories();case 4:t=e.sent,this.categories=t.categories,this.isFetching=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.fetchError=!0;case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"sortCategories",value:function(){this.categories&&(this.categories=C.sortCategories(this.categories))}},{key:"sortHeaders",value:function(e,t){this.categories&&(this.categories=C.sortHeaders(Object(g.h)(this.categories),e,t))}},{key:"setVisibility",value:function(e){this.isVisible=e}},{key:"addCountVisibleItems",value:function(){var e;this.countVisibleItems+=3,this.isMaxCountVisibleItems=((null===(e=this.categories)||void 0===e?void 0:e.length)||0)<this.countVisibleItems}}]),e}(),k=new y,V=n(213),w=n.n(V),N=n(3),M=Object(j.a)((function(e){var t;return Object(N.jsx)("div",{className:w.a.component,children:Object(N.jsx)("textarea",{onChange:function(t){e.setSearch(t.target.value)},rows:1,placeholder:"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f",children:null===e||void 0===e||null===(t=e.store)||void 0===t?void 0:t.searchQuery})})})),S=n(214),I=n.n(S),E=function(){return Object(N.jsx)("div",{className:I.a.component,children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."})},H=n(215),L=n.n(H),F=function(){return Object(N.jsx)("div",{className:L.a.loader})},P=n(147),D=n.n(P),A=n(216),B=n.n(A),T=Object(j.a)((function(e){var t=e.items,n=e.headers;return Object(N.jsxs)("table",{className:B.a.component,children:[Object(N.jsx)("thead",{children:Object(N.jsx)("tr",{children:n&&n.map((function(e,n){return Object(N.jsx)("th",{onClick:function(){return function(e){k.isSorted=!k.isSorted;var n=Object.keys(t[0]);k.sortHeaders(n,e)}(n)},children:e},e)}))})}),Object(N.jsx)("tbody",{children:t&&t.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.strCategory}),Object(N.jsx)("td",{children:Object(N.jsx)("img",{src:e.strCategoryThumb,alt:""})}),Object(N.jsx)("td",{children:e.strCategoryDescription})]},e.idCategory)}))})]})})),K=n(217),Q=n.n(K),J=n(218),U=n.n(J),X=function(e){var t,n=Object(c.useState)(!1),s=Object(u.a)(n,2),i=s[0],o=s[1],r=function(){o(!i)};return Object(N.jsxs)("div",{className:U.a.component,onClick:r,onKeyDown:r,children:[Object(N.jsx)("h3",{children:e.strCategory}),i&&Object(N.jsx)("img",{src:e.strCategoryThumb,alt:""}),Object(N.jsx)("p",{children:i?e.strCategoryDescription:"".concat(null===(t=e.strCategoryDescription)||void 0===t?void 0:t.slice(0,65),"...")})]})},q=function(e){var t=e.items;return Object(N.jsx)("div",{className:Q.a.component,children:Object(N.jsx)("ul",{children:t&&t.map((function(e){return Object(N.jsx)("li",{children:Object(N.jsx)(X,{strCategory:e.strCategory,strCategoryThumb:e.strCategoryThumb,strCategoryDescription:e.strCategoryDescription})},e.idCategory)}))})})},G=function(e){var t=e.items,n=e.headers,s=e.setCurrentViewModel,i=Object(c.useState)(),o=Object(u.a)(i,2),r=o[0],a=o[1],j=Object(c.useState)(),l=Object(u.a)(j,2),b=l[0],h=l[1],d=0,m=Object(c.useMemo)((function(){return function(e,t){return{id:d++,name:e,component:t}}}),[d]),O=Object(c.useMemo)((function(){return[m("\u0422\u0430\u0431\u043b\u0438\u0446\u0430",(function(e){return Object(N.jsx)(T,{items:e,headers:n})})),m("\u0421\u043f\u0438\u0441\u043e\u043a",(function(e){return Object(N.jsx)(q,{items:e})}))]}),[m,n]);return Object(c.useEffect)((function(){r&&t?s(O.filter((function(e){return e.name===r}))[0].component(t)):t&&s(O[0].component(t))}),[t,r,s]),Object(N.jsx)("div",{className:D.a.component,children:O&&t&&O.map((function(e){return Object(N.jsx)("button",{type:"button",className:b===e.name?D.a.active:void 0,onClick:function(){h(e.name),a(e.name),s(e.component(t))},children:e.name},e.id)}))})},R=Object(j.a)((function(e){var t=e.store,n=Object(c.useState)(),s=Object(u.a)(n,2),i=s[0],o=s[1],r=Object(c.useState)(""),a=Object(u.a)(r,2),j=a[0],l=a[1],h=Object(c.useState)(),m=Object(u.a)(h,2),O=m[0],f=m[1],p=j.length>3;return Object(c.useEffect)((function(){k.fetch().then((function(){k.sortCategories(),o(b.a.chunk(k.categories,k.countVisibleItems)[0])}))}),[]),Object(c.useEffect)((function(){var e;p?(o(null===(e=t.categories)||void 0===e?void 0:e.filter((function(e){return e.strCategory.startsWith(j)}))),t.isFiltered=!0):t.isSorted||(o(b.a.chunk(t.categories,t.countVisibleItems)[0]),t.isFiltered=!1)}),[j,p,t.countVisibleItems,t,t.categories]),Object(N.jsxs)("div",{className:t.isVisible?d.a.component:d.a.hidden,children:[t.fetchError?Object(N.jsx)(E,{}):null,t.isFetching&&!t.fetchError?Object(N.jsx)(F,{}):null,Object(N.jsxs)("div",{className:t.isFetching||t.fetchError?d.a.hidden:d.a.body,children:[Object(N.jsx)(M,{store:t,setSearch:l}),Object(N.jsx)(G,{items:i,headers:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"],setCurrentViewModel:f}),O,p||t.isMaxCountVisibleItems?null:Object(N.jsx)("div",{children:Object(N.jsx)("button",{type:"button",className:d.a.showMore,onClick:function(){return t.addCountVisibleItems()},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451"})})]})]})})),W=n(219),Y=n.n(W),z=Object(j.a)((function(e){var t=e.store.isVisible;return Object(N.jsx)("button",{type:"button",onClick:function(){e.store.setVisibility(!t)},className:Y.a.component,children:t?"\u0421\u043a\u0440\u044b\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})})),Z=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430"}),Object(N.jsx)(z,{store:k}),Object(N.jsx)(R,{store:k})]})},$=function(){return Object(N.jsx)("div",{children:Object(N.jsx)("h1",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})})},ee=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(N.jsx)("p",{children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u043c\u0430\u0440\u0430\u0444\u043e\u043d\u0430 \u0413\u041d\u0418\u0412\u0426. \u0410\u0432\u0442\u043e\u0440 - \u044f, \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0432\u044b."})]})},te=function(){return Object(N.jsxs)(a.c,{children:[Object(N.jsx)(a.a,{path:"/",element:Object(N.jsx)($,{})}),Object(N.jsx)(a.a,{path:"/catalog",element:Object(N.jsx)(Z,{})}),Object(N.jsx)(a.a,{path:"/about",element:Object(N.jsx)(ee,{})})]})},ne=n(70),ce=n.n(ne),se=function(){return Object(N.jsx)("header",{className:ce.a.component,children:Object(N.jsxs)("nav",{className:ce.a.navigation,children:[Object(N.jsx)(r.b,{to:"/",className:ce.a.link,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(N.jsx)(r.b,{to:"/catalog",className:ce.a.link,children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"}),Object(N.jsx)(r.b,{to:"/about",className:ce.a.link,children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})]})})},ie=n(148),oe=n.n(ie),re=function(){return Object(N.jsxs)("main",{className:oe.a.component,children:[Object(N.jsx)(se,{}),Object(N.jsx)("section",{className:oe.a.content,children:Object(N.jsx)(te,{})})]})};n(455);o.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(r.a,{children:Object(N.jsx)(re,{})})}),document.getElementById("root"))},69:function(e,t,n){e.exports={component:"CatalogList_component__3qwGa",hidden:"CatalogList_hidden__3blyv",body:"CatalogList_body__8g0BM",showMore:"CatalogList_showMore__1XAOf"}},70:function(e,t,n){e.exports={component:"Header_component__2Qcpy",navigation:"Header_navigation__3s_nt",link:"Header_link__3eAk9",active:"Header_active__PYkbk"}}},[[456,1,2]]]);
//# sourceMappingURL=main.f5d9cf9e.chunk.js.map